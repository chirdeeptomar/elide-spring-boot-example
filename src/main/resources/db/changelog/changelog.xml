<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    <changeSet author="admin" id="1539122071">
        <sql>
     CREATE TABLE categories (
       id BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY,
       title varchar(255) NOT NULL
     );

     CREATE TABLE posts (
       id BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY,
       title varchar(255) NOT NULL,
       content varchar DEFAULT NULL,
       category_id BIGINT NOT NULL,
       FOREIGN KEY (category_id) REFERENCES categories(id)
     );
        </sql>
    </changeSet>
    <changeSet author="admin" id="1539122270">
        <sql>
     INSERT INTO categories (title) VALUES
         ('Java'),
         ('Python');

     INSERT INTO posts (title, content, category_id) VALUES
        ('Hibernate', 'How to use Hibernate with Java', 1),
        ('Kotlin', 'Kotlin Basics', 1),
        ('Pandas', 'Pandas Basics', 2);
        </sql>
    </changeSet>
</databaseChangeLog>
